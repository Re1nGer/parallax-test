---
import Car from "../../public/car.png";
import Light from "../../public/light_small.svg";
import Crowd from "../../public/crowd.png";
import Bg from "../../public/bg.png";
import {Image} from "astro:assets";
---



<section id="contacts" class="relative z-10 lg:max-w-[1920px]">
    <div id="title" class="flex flex-col mb-[25px] px-[40px]">
        <h1 class="text-[32px] font-valorax text-dark_purple purple-text-shadow">Station 4:</h1>
        <h1 class="text-[32px] font-valorax text-black white-text-shadow">Contacts</h1>
    </div>
    <p class="text-[16px] text-white pl-[40px] text-left max-w-[240px]">Doesn’t it look like a disguised entrance to a secret underground club?</p>

    <div id="links" class="flex flex-col items-center gap-[60px] mx-auto w-full absolute z-20 opacity-0">
        <h1 id="linked" class="text-[32px] text-white header font-valorax">LinkedIn</h1>
        <h1 id="github" class="text-[32px] text-white header font-valorax ">Github</h1>
        <h1 id="email" class="text-[32px] text-white header font-valorax">Email</h1>
    </div>
    <div class="font-semibold text-center text-white mt-[30px] hidden md:block">
        <p class="mx-auto leading-[32px] text-[28px] max-w-[506px]">
            Doesn’t it look like a disguised entrance to a secret underground club?
        </p>
    </div>
    <div class="flex justify-center">
        <Image id="car" src={Car} alt="car" class="max-w-[1029px] w-full max-h-[634px]" />
    </div>
    <div id="trigger" class="max-h-[1200px] relative z-10">
        <div class="w-full h-full flex justify-center absolute max-h-[800px]">
            <Image id="light" src={Light} alt="light" class="max-w-[360px] max-h-[1200px] h-[400px] scale-y-150 z-10 absolute top-[-200px] opacity-0 origin-top" />
<!--
            <svg id="light" class="w-[1303px] h-[400px] -z-10 absolute top-[-200px] opacity-0 origin-top" width="400" height="800" viewBox="0 0 1525 826" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_f_156_302)">
                    <path d="M111 893L765.251 111L1414 893H111Z" fill="#D0C5FF" fill-opacity="0.5"/>
                </g>
                <defs>
                    <filter id="filter0_f_156_302" x="0.800003" y="0.800003" width="1523.4" height="1002.4" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                        <feGaussianBlur stdDeviation="55.1" result="effect1_foregroundBlur_156_302"/>
                    </filter>
                </defs>
            </svg>
-->
        </div>
    </div>
    <div id="secret" class="font-semibold text-center text-white mx-auto flex justify-end text-[28px] pt-[3rem] relative z-20">
        <p class="max-w-[500px] absolute z-10 text-[16px] text-center px-[4rem] translate-y-24">Here you will be able to find the ways of  connecting to the person you have been looking for.</p>
    </div>
</section>
<div class="relative w-full full">
    <Image id="crowd" src={Crowd} alt="light" class="h-[450px] w-full z-20 absolute bottom-0 opacity-0" />
</div>
<!--
<div id="bottom_light" class="relative h-full w-full bottom-0 top-[800px] opacity-0">
    <div id="bottom" class="h-[600px] w-full bg-[#D0C5FF] opacity-50 absolute bottom-0 z-10"></div>
</div>
-->


<script>
    import { gsap } from "gsap/dist/gsap";
    import { ScrollTrigger } from "gsap/dist/ScrollTrigger";
    import { ScrollToPlugin } from "gsap/dist/ScrollToPlugin";
    import { MotionPathPlugin } from "gsap/dist/MotionPathPlugin";

    gsap.registerPlugin(ScrollTrigger,ScrollToPlugin,MotionPathPlugin);

    gsap.to('#bottom_light', { opacity: 1, duration: 1, scrollTrigger: { trigger: '#bottom', scrub: true, end:"+=20px" } })

    gsap.to('#secret', {
        y: 850,
        opacity: 0,
        duration: 1,
        scrollTrigger:  {
            trigger: '#car',
            scrub: true,
            start: "center top",
            end: "+=300px"
        },
    });

    gsap.to('#links', {
        y: 900,
        opacity: 1,
        duration: 1,
        scrollTrigger:  {
            trigger: '#crowd',
            scrub: true,
            end:"+=100px",
            start: "top center",
        },
    });

    gsap.to('#car', {
        scale: 0.8,
        scrollTrigger:  {
            once: false,
            trigger: '#car',
            start: 'top center',
            scrub: true
        },
    });

    gsap.to('#light', {
        opacity: 1,
        duration: 1,
        scrollTrigger: {
            trigger: '#car',
            start: 'top center',
            scrub: true,
            end:"+=200px"
        }
    });

    gsap.to('#light', {
        scaleY: 4,
        scaleX: 3,
        y: -200,
        duration: 1,
        scrollTrigger: {
            trigger: '#car',
            start: 'center top',
            scrub: true,
            end:"+=50",
        }
    });

    gsap.to('#light', {
        y: -100,
        duration: 1,
        scrollTrigger: {
            trigger: '#crowd',
            start: 'center top',
            scrub: true,
            end:"+=250",
        }
    });

    gsap.to('#crowd', {
        opacity: 1,
        duration: .5,
        scrollTrigger: {
            trigger: '#crowd',
            start: 'top bottom',
            scrub: true,
            end: "+=50px"
        }
    });

    gsap.to('#crowd', {
        y: 1250,
        duration: 1,
        scrollTrigger: {
            trigger: '#crowd',
            start: 'top bottom',
            scrub: true,
            end: "+=100px"
        }
    });

</script>